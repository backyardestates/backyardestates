/* =========================================
   IncludedPills.module.css — UX polish pass
   ========================================= */

.wrap {
    --radiusLg: 1.25rem;
    --radiusMd: 1rem;
    --radiusSm: 0.85rem;

    --text: rgba(0, 0, 0, 0.88);
    --muted: rgba(0, 0, 0, 0.58);
    --muted2: rgba(0, 0, 0, 0.46);

    --hairline: rgba(0, 0, 0, 0.08);
    --hairlineStrong: rgba(0, 0, 0, 0.12);

    --shadowA: 0 14px 36px rgba(0, 0, 0, 0.10);
    --shadowB: 0 4px 14px rgba(0, 0, 0, 0.06);
    --shadowInset: inset 0 1px 0 rgba(255, 255, 255, 0.6);

    --focusRing: 0 0 0 5px rgba(50, 110, 255, 0.18);
    --focusOutline: rgba(50, 110, 255, 0.55);

    color: var(--text);
}

/* -----------------------------
   Header (optional)
------------------------------ */
.header {
    margin-bottom: 0.75rem;
}

.heading {
    font-family: var(--font-serif);
    font-size: clamp(1.05rem, 1.25vw, 1.25rem);
    letter-spacing: -0.01em;
    font-weight: 820;
    color: var(--color-brand-dark-blue, rgba(0, 0, 0, 0.82));
    margin: 0 0 0.2rem 0;
}

.subheading {
    font-family: var(--font-sans);
    font-size: 1rem;
    line-height: 1.55;
    color: var(--muted);
    margin: 0;
    max-width: 72ch;
}

/* -----------------------------
   Rows
------------------------------ */
.categoryRow,
.itemRow {
    display: grid;
    gap: 0.75rem;
}

/* Category pills usually fewer: slightly wider columns */
.categoryRow {
    grid-template-columns: repeat(2, minmax(0, 1fr));
}

.itemRow {
    grid-template-columns: repeat(3, minmax(0, 1fr));
}

@media (max-width: 1024px) {
    .itemRow {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

@media (max-width: 760px) {

    .categoryRow,
    .itemRow {
        grid-template-columns: 1fr;
    }
}

/* -----------------------------
   Pill base (category + item)
------------------------------ */
.categoryPill {
    width: 100%;
    text-align: left;
    border: 0;
    cursor: pointer;
    user-select: none;

    /* better tap target */
    min-height: 64px;
    padding: 0.9rem 0.95rem;

    border-radius: 1.05rem;

    background: linear-gradient(135deg, rgba(255, 255, 255, 0.68), rgba(255, 255, 255, 0.36));
    border: 1px solid rgba(0, 0, 0, 0.10);
    box-shadow: 0 10px 22px rgba(0, 0, 0, 0.06), var(--shadowInset);

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;
    gap: 0.9rem;

    transition:
        transform 200ms ease,
        box-shadow 200ms ease,
        border-color 200ms ease,
        background 200ms ease;
}

.itemPill {
    width: 100%;
    text-align: left;
    border: 0;
    cursor: pointer;
    user-select: none;

    /* better tap target */
    min-height: 64px;
    padding: 0.9rem 0.95rem;

    border-radius: 1.05rem;

    background: linear-gradient(135deg, rgba(255, 255, 255, 0.68), rgba(255, 255, 255, 0.36));
    border: 1px solid rgba(0, 0, 0, 0.10);
    box-shadow: 0 10px 22px rgba(0, 0, 0, 0.06), var(--shadowInset);

    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.9rem;

    transition:
        transform 200ms ease,
        box-shadow 200ms ease,
        border-color 200ms ease,
        background 200ms ease;
}

@media (hover: hover) {

    .categoryPill:hover,
    .itemPill:hover {
        transform: translateY(-2px);
        border-color: rgba(0, 0, 0, 0.14);
        box-shadow: 0 14px 28px rgba(0, 0, 0, 0.08), var(--shadowInset);
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.78), rgba(255, 255, 255, 0.42));
    }
}

.categoryPill:active,
.itemPill:active {
    transform: translateY(-1px);
}

.categoryPill:focus,
.itemPill:focus {
    outline: none;
}

.categoryPill:focus-visible,
.itemPill:focus-visible {
    border-color: var(--focusOutline);
    box-shadow: var(--focusRing), 0 14px 28px rgba(0, 0, 0, 0.08), var(--shadowInset);
}

/* -----------------------------
   Tones (subtle accent only)
------------------------------ */

.tone_upgrade {
    /* gentle warm lean */
    border-color: rgba(185, 151, 100, 0.22);
}

.tone_site {
    /* slightly cooler / caution lean */
    border-color: rgba(0, 0, 0, 0.14);
}

/* -----------------------------
   Category pill internals
------------------------------ */
.categoryTop {
    display: inline-flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.6rem;
    min-width: 0;
    width: 100%;
}

.categoryTitleWrap {
    display: flex;
    align-items: center;
    gap: 0.6rem;
}

.categoryDot {
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: var(--color-brand-beige);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.65);
    flex: 0 0 auto;
}

.categoryTitle {
    font-family: var(--font-serif);
    font-size: 1.02rem;
    letter-spacing: -0.01em;
    font-weight: 820;
    color: rgba(0, 0, 0, 0.82);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.categoryMeta {
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
    align-items: flex-start;
    justify-content: flex-start;
    min-width: 0;
    width: 100%;
}

.categoryTag {
    font-family: var(--font-sans);
    font-size: 0.86rem;
    font-weight: 750;
    color: var(--color-brand-beige-subtle);
    background: linear-gradient(135deg, rgba(185, 151, 100, 0.95), rgba(229, 194, 136, 0.85));
    border: 1px solid rgba(0, 0, 0, 0.10);
    padding: 0.3rem 0.55rem;
    border-radius: 999px;
    white-space: nowrap;
}

.categoryDesc {
    font-family: var(--font-sans);
    font-size: 0.95rem;
    line-height: 1.35;
    color: rgba(0, 0, 0, 0.56);
    max-width: 36ch;
    text-align: left;

    /* prevent layout jumps */
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

/* -----------------------------
   Item pill internals
------------------------------ */
.itemIcon {
    width: 34px;
    height: 34px;
    border-radius: 999px;
    display: grid;
    place-items: center;

    font-family: var(--font-sans);
    font-weight: 900;
    font-size: 1rem;
    line-height: 1;

    background: rgba(0, 0, 0, 0.06);
    border: 1px solid rgba(0, 0, 0, 0.10);
    color: rgba(0, 0, 0, 0.75);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.65);
    flex: 0 0 auto;
}

.itemText {
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
    min-width: 0;
    flex: 1 1 auto;
}

.itemTitle {
    font-family: var(--font-serif);
    font-size: 1.02rem;
    letter-spacing: -0.01em;
    font-weight: 820;
    color: rgba(0, 0, 0, 0.82);

    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.itemSub {
    font-family: var(--font-sans);
    font-size: 0.92rem;
    line-height: 1.25;
    color: rgba(0, 0, 0, 0.55);
}

/* State badges: quieter + more premium */
.stateBadge,
.stateBadgeMuted {
    flex: 0 0 auto;
    border-radius: 999px;
    padding: 0.33rem 0.55rem;
    font-family: var(--font-sans);
    font-size: 0.84rem;
    font-weight: 800;
    letter-spacing: -0.01em;
    white-space: nowrap;
}

.stateBadge {
    background: linear-gradient(135deg, rgba(185, 151, 100, 0.95), rgba(229, 194, 136, 0.85));
    border: 1px solid rgba(185, 151, 100, 0.55);
    color: rgba(255, 255, 255, 0.98);
    box-shadow: 0 0 0 4px rgba(185, 151, 100, 0.12);
}

.stateBadgeMuted {
    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.10);
    color: rgba(0, 0, 0, 0.62);
}

/* Selected / rejected states (keep subtle, don’t scream) */
.itemPillSelected {
    border-color: rgba(185, 151, 100, 0.28);
    background: linear-gradient(135deg, rgba(250, 240, 220, 0.82), rgba(255, 255, 255, 0.52));
}

.itemPillRejected {
    opacity: 0.86;
    filter: saturate(0.92);
}

/* -----------------------------
   Overlay + Modal (big UX win)
------------------------------ */
.overlay {
    position: fixed;
    inset: 0;
    z-index: 50;

    display: grid;
    place-items: center;

    padding: clamp(0.85rem, 2vw, 1.25rem);

    background: rgba(0, 0, 0, 0.32);
    backdrop-filter: blur(14px) saturate(140%);
    -webkit-backdrop-filter: blur(14px) saturate(140%);

    /* avoid accidental overscroll bounce behind */
    overscroll-behavior: contain;
}

.modal {
    width: min(980px, 100%);
    max-height: min(82vh, 760px);
    overflow: hidden;

    border-radius: 1.35rem;
    background: rgba(255, 255, 255, 0.88);
    border: 1px solid rgba(255, 255, 255, 0.55);
    box-shadow: 0 24px 70px rgba(0, 0, 0, 0.28);

    backdrop-filter: blur(18px) saturate(160%);
    -webkit-backdrop-filter: blur(18px) saturate(160%);

    display: flex;
    flex-direction: column;
}

/* Sticky header (feels premium + helps UX) */
.modalHeader {
    position: sticky;
    top: 0;
    z-index: 2;

    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 1rem;

    padding: 1.05rem 1.05rem 0.95rem;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.94), rgba(255, 255, 255, 0.78));
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}

.modalHeaderLeft {
    min-width: 0;
}

.modalTitle {
    font-family: var(--font-serif);
    font-size: clamp(1.15rem, 1.5vw, 1.4rem);
    letter-spacing: -0.02em;
    font-weight: 860;
    color: rgba(0, 0, 0, 0.84);
    margin: 0.45rem 0 0.2rem 0;
}

.modalSubtitle {
    font-family: var(--font-sans);
    font-size: 1rem;
    line-height: 1.55;
    color: rgba(0, 0, 0, 0.58);
    margin: 0;
    max-width: 78ch;
}

/* Close button: larger target, calmer */
.closeBtn {
    width: 42px;
    height: 42px;
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.10);
    background: rgba(0, 0, 0, 0.05);
    cursor: pointer;

    display: grid;
    place-items: center;

    transition: transform 160ms ease, background 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
}

@media (hover: hover) {
    .closeBtn:hover {
        background: rgba(0, 0, 0, 0.08);
        border-color: rgba(0, 0, 0, 0.14);
        transform: translateY(-1px);
    }
}

.closeBtn:focus {
    outline: none;
}

.closeBtn:focus-visible {
    box-shadow: var(--focusRing);
    border-color: var(--focusOutline);
}

/* Modal body scroll */
.modalBody {
    padding: 1rem 1.05rem 1.05rem;
    overflow: auto;
    -webkit-overflow-scrolling: touch;
}

/* Footer stays clean */
.modalFooter {
    padding: 0.85rem 1.05rem 1rem;
    border-top: 1px solid rgba(0, 0, 0, 0.08);
    background: rgba(255, 255, 255, 0.78);
    display: flex;
    justify-content: flex-end;
    gap: 0.75rem;
}

/* -----------------------------
   Badge
------------------------------ */
.badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;

    border-radius: 999px;
    padding: 0.35rem 0.6rem;

    font-family: var(--font-sans);
    font-size: 0.85rem;
    font-weight: 850;
    letter-spacing: -0.01em;

    background: rgba(0, 0, 0, 0.06);
    border: 1px solid rgba(0, 0, 0, 0.10);
    color: rgba(0, 0, 0, 0.75);
}

.badgeDot {
    width: 8px;
    height: 8px;
    border-radius: 999px;
    background: rgba(0, 0, 0, 0.25);
}

.badge_included .badgeDot {
    background: rgba(0, 0, 0, 0.25);
}

.badge_upgrade {
    background: linear-gradient(135deg, rgba(185, 151, 100, 0.95), rgba(229, 194, 136, 0.85));
    border-color: rgba(185, 151, 100, 0.55);
    color: rgba(255, 255, 255, 0.98);
}

.badge_upgrade .badgeDot {
    background: rgba(255, 255, 255, 0.85);
}

.badge_site {
    background: rgba(0, 0, 0, 0.06);
}

/* -----------------------------
   “Hero” overview card inside modal
------------------------------ */
.heroCard {
    border-radius: 1.2rem;
    padding: 0.95rem 1rem;

    background: linear-gradient(135deg,
            rgba(250, 240, 220, 0.75),
            rgba(255, 255, 255, 0.58));
    border: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.06), var(--shadowInset);

    margin-bottom: 0.95rem;
}

.heroKicker {
    font-family: var(--font-serif);
    font-size: 0.92rem;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: rgba(0, 0, 0, 0.48);
    font-weight: 700;
    margin-bottom: 0.25rem;
}

.heroText {
    font-family: var(--font-sans);
    font-size: 1.02rem;
    line-height: 1.6;
    color: rgba(0, 0, 0, 0.68);
    margin: 0;
}

/* -----------------------------
   Action card (modal selection strip)
------------------------------ */
.actionCard {
    border-radius: 1.2rem;
    padding: 0.9rem 1rem;

    background: rgba(255, 255, 255, 0.72);
    border: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.06), var(--shadowInset);

    margin-bottom: 0.95rem;
}

.actionTitle {
    font-family: var(--font-serif);
    font-size: 1.02rem;
    font-weight: 820;
    letter-spacing: -0.01em;
    color: rgba(0, 0, 0, 0.82);
    margin-bottom: 0.65rem;
}

.actionRow {
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
    align-items: center;
}

.actionMeta {
    margin-top: 0.55rem;
    font-family: var(--font-sans);
    font-size: 0.95rem;
    color: rgba(0, 0, 0, 0.58);
}

/* Buttons (primary / secondary / ghost) */
.primaryBtn,
.secondaryBtn,
.ghostBtn {
    height: 44px;
    padding: 0 0.95rem;
    border-radius: 0.95rem;
    border: 1px solid rgba(0, 0, 0, 0.12);
    font-family: var(--font-sans);
    font-size: 0.98rem;
    font-weight: 800;
    letter-spacing: -0.01em;
    cursor: pointer;

    transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease, border-color 160ms ease;
}

.primaryBtn {
    background: linear-gradient(135deg, rgba(185, 151, 100, 0.95), rgba(229, 194, 136, 0.85));
    border-color: rgba(185, 151, 100, 0.55);
    color: rgba(255, 255, 255, 0.98);
    box-shadow: 0 0 0 4px rgba(185, 151, 100, 0.12);
}

.secondaryBtn {
    background: rgba(0, 0, 0, 0.05);
    color: rgba(0, 0, 0, 0.78);
}

.ghostBtn {
    background: transparent;
    border-color: rgba(0, 0, 0, 0.10);
    color: rgba(0, 0, 0, 0.68);
}

@media (hover: hover) {

    .primaryBtn:hover,
    .secondaryBtn:hover,
    .ghostBtn:hover {
        transform: translateY(-1px);
        border-color: rgba(0, 0, 0, 0.16);
        box-shadow: 0 12px 28px rgba(0, 0, 0, 0.08);
    }
}

.primaryBtn:focus,
.secondaryBtn:focus,
.ghostBtn:focus {
    outline: none;
}

.primaryBtn:focus-visible,
.secondaryBtn:focus-visible,
.ghostBtn:focus-visible {
    box-shadow: var(--focusRing);
    border-color: var(--focusOutline);
}

/* -----------------------------
   Sections grid/cards
------------------------------ */
.sectionGrid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.85rem;
    margin-bottom: 0.85rem;
}

@media (max-width: 860px) {
    .sectionGrid {
        grid-template-columns: 1fr;
    }
}

.sectionCard {
    border-radius: 1.2rem;
    padding: 0.95rem 1rem;

    background: rgba(255, 255, 255, 0.72);
    border: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.06), var(--shadowInset);
}

.sectionHeader {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 0.75rem;
    margin-bottom: 0.55rem;
}

.sectionTitle {
    font-family: var(--font-serif);
    font-size: 1.02rem;
    letter-spacing: -0.01em;
    font-weight: 860;
    color: rgba(0, 0, 0, 0.82);
    margin: 0;
}

.sectionText {
    font-family: var(--font-sans);
    font-size: 1rem;
    line-height: 1.6;
    color: rgba(0, 0, 0, 0.62);
    margin: 0;
}

/* Cost pill */
.costPill {
    border-radius: 999px;
    padding: 0.35rem 0.6rem;
    font-family: var(--font-sans);
    font-size: 0.88rem;
    font-weight: 850;
    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.10);
    color: rgba(0, 0, 0, 0.72);
    white-space: nowrap;
}

.costBody {
    margin-top: 0.25rem;
}

.costRow {
    display: flex;
    align-items: baseline;
    justify-content: space-between;
    gap: 0.75rem;
    margin-bottom: 0.4rem;
}

.costLabel {
    font-family: var(--font-sans);
    font-size: 0.95rem;
    color: rgba(0, 0, 0, 0.55);
}

.costValue {
    font-family: var(--font-serif);
    font-size: 1.02rem;
    font-weight: 860;
    color: rgba(0, 0, 0, 0.80);
}

/* -----------------------------
   Lists (clean)
------------------------------ */
.cleanList {
    margin: 0.55rem 0 0 0;
    padding: 0;
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 0.45rem;
}

.cleanItem {
    display: grid;
    grid-template-columns: 20px 1fr;
    align-items: start;
    gap: 0.55rem;

    font-family: var(--font-sans);
    font-size: 1rem;
    line-height: 1.55;
    color: rgba(0, 0, 0, 0.66);
}

.bullet {
    width: 18px;
    height: 18px;
    border-radius: 999px;
    display: grid;
    place-items: center;

    font-size: 0.85rem;
    font-weight: 900;

    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.10);
    color: rgba(0, 0, 0, 0.65);
}

/* Chips (triggers) */
.chipRow {
    display: flex;
    flex-wrap: wrap;
    gap: 0.55rem;
    margin-top: 0.55rem;
}

.chip {
    border-radius: 999px;
    padding: 0.35rem 0.6rem;
    font-family: var(--font-sans);
    font-size: 0.9rem;
    font-weight: 780;

    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.10);
    color: rgba(0, 0, 0, 0.70);
}

/* CTA row/buttons (category mode) */
.ctaRow {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 0.75rem;
    margin-top: 0.85rem;
}

@media (max-width: 760px) {
    .ctaRow {
        grid-template-columns: 1fr;
    }
}

.ctaBtn {
    border: 0;
    cursor: pointer;
    text-align: left;

    padding: 0.9rem 0.95rem;
    border-radius: 1.1rem;

    background: rgba(0, 0, 0, 0.05);
    border: 1px solid rgba(0, 0, 0, 0.10);
    box-shadow: 0 10px 22px rgba(0, 0, 0, 0.06), var(--shadowInset);

    transition: transform 200ms ease, box-shadow 200ms ease, border-color 200ms ease, background 200ms ease;
}

@media (hover: hover) {
    .ctaBtn:hover {
        transform: translateY(-2px);
        border-color: rgba(0, 0, 0, 0.14);
        background: rgba(0, 0, 0, 0.06);
        box-shadow: 0 14px 28px rgba(0, 0, 0, 0.08), var(--shadowInset);
    }
}

.ctaBtn:focus {
    outline: none;
}

.ctaBtn:focus-visible {
    border-color: var(--focusOutline);
    box-shadow: var(--focusRing), 0 14px 28px rgba(0, 0, 0, 0.08), var(--shadowInset);
}

.ctaLabel {
    display: block;
    font-family: var(--font-serif);
    font-size: 1.02rem;
    font-weight: 860;
    color: rgba(0, 0, 0, 0.82);
    margin-bottom: 0.25rem;
}

.ctaHint {
    display: block;
    font-family: var(--font-sans);
    font-size: 0.95rem;
    line-height: 1.45;
    color: rgba(0, 0, 0, 0.58);
}

/* -----------------------------
   Reduced motion
------------------------------ */
@media (prefers-reduced-motion: reduce) {

    .categoryPill,
    .itemPill,
    .ctaBtn,
    .closeBtn,
    .primaryBtn,
    .secondaryBtn,
    .ghostBtn {
        transition: none !important;
    }

    .categoryPill:hover,
    .itemPill:hover,
    .ctaBtn:hover {
        transform: none;
    }
}